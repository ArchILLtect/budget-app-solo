const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ApplyToBudgetModal-SjJY_reA.js","assets/index-xwMjE7XY.js","assets/recharts-fUgtte1b.js","assets/accountUtils-C7DJjkh9.js","assets/modal-close-button-V6F9r3JT.js","assets/radio-BNrj3pDp.js","assets/visually-hidden.style-Bfr07Aua.js","assets/use-form-control-B6IaQYr4.js","assets/split-CzYrjwZo.js","assets/checkbox-BpOi7ikZ.js","assets/omit-QLD0Eizt.js","assets/input-QV5FdPZP.js","assets/SavingsReviewModal-CcOGyN5u.js","assets/select-CEgIQikT.js","assets/ConfirmModal-CBVh5qVN.js","assets/ImportTransactionsModal-D9Mogmb5.js","assets/runIngestion-B6P9gsVO.js","assets/IngestionMetricsPanel-Csc5pPPM.js","assets/stat-number-O1IGy_6B.js","assets/stat-help-text-LexhNEvj.js","assets/tooltip-DWNPoC6y.js","assets/create-icon-DM1WmCyW.js","assets/use-event-listener-BvnzY9DD.js","assets/form-label-Cqg8IcOd.js","assets/badge-f7PBaRE6.js","assets/divider-B1h1HTXB.js","assets/tab-panels-hxep4z5W.js","assets/__vite-browser-external-3a0vqkmD.js","assets/tr-BC_ZfAu1.js","assets/center-CIAJU8Ix.js","assets/LoadingSpinner-BAAFQNyv.js","assets/SyncAccountsModal-WhFL79qo.js"])))=>i.map(i=>d[i]);
import{a9 as ee,z as Ne,f as T,a as V,j as n,aj as ze,c as R,X as re,J as ne,U as Fe,Y as ae,x as he,o as xe,ac as Be,ak as We,a7 as $e,m as Ve,L as ie,u as D,B as $,d as K,al as He,F as W,V as Ue,t as I,K as q,i as P,am as Ke,$ as te,_ as B,y as Ye,H as ge}from"./index-xwMjE7XY.js";import{r as l}from"./recharts-fUgtte1b.js";import{g as Ge,f as qe}from"./accountUtils-C7DJjkh9.js";import{u as Je,T as de}from"./tooltip-DWNPoC6y.js";import{e as Xe,l as Ze,u as Qe,T as en,a as nn,b as tn,c as sn,d as on}from"./tab-panels-hxep4z5W.js";import{u as X}from"./create-icon-DM1WmCyW.js";import{u as rn}from"./use-event-listener-BvnzY9DD.js";import{C as an}from"./__vite-browser-external-3a0vqkmD.js";import{B as me}from"./badge-f7PBaRE6.js";import{T as cn,a as ln,b as pe,c as H,d as un,e as U}from"./tr-BC_ZfAu1.js";import{C as ce}from"./center-CIAJU8Ix.js";import{L as dn}from"./LoadingSpinner-BAAFQNyv.js";function le(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function ye(e){return e.parentElement&&ye(e.parentElement)?!0:e.hidden}function mn(e){const t=e.getAttribute("contenteditable");return t!=="false"&&t!=null}function pn(e){return!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled")}function fn(e){return be(e)?.defaultView??window}function be(e){return le(e)?e.ownerDocument:document}function hn(e){return be(e).activeElement}const je=e=>e.hasAttribute("tabindex"),xn=e=>je(e)&&e.tabIndex===-1;function gn(e){if(!le(e)||ye(e)||pn(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const i={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in i?i[t]():mn(e)?!0:je(e)}function yn(e){return e?le(e)&&gn(e)&&!xn(e):!1}function bn(e){const{isOpen:t,ref:s}=e,[i,a]=l.useState(t),[r,c]=l.useState(!1);return l.useEffect(()=>{r||(a(t),c(!0))},[t,r,i]),rn(()=>s.current,"animationend",()=>{a(t)}),{present:!(t?!1:!i),onComplete(){const f=fn(s.current),m=new f.CustomEvent("animationend",{bubbles:!0});s.current?.dispatchEvent(m)}}}function jn(e){const t=e.current;if(!t)return!1;const s=hn(t);return!s||t.contains(s)?!1:!!yn(s)}function Mn(e,t){const{visible:s,focusRef:i}=t,a=!s;ee(()=>{if(!a||jn(e))return;const r=i?.current||e.current;let c;if(r)return c=requestAnimationFrame(()=>{r.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(c)}},[a,e,i])}function vn(e,t){const s=l.useId();return l.useMemo(()=>e||[t,s].filter(Boolean).join("-"),[e,t,s])}function Sn(e,...t){const s=vn(e);return l.useMemo(()=>t.map(i=>`${i}-${s}`),[s,t])}function Cn(e){const{ref:t,handler:s,enabled:i=!0}=e,a=Ne(s),c=l.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;l.useEffect(()=>{if(!i)return;const u=p=>{Q(p,t)&&(c.isPointerDown=!0)},f=p=>{if(c.ignoreEmulatedMouseEvents){c.ignoreEmulatedMouseEvents=!1;return}c.isPointerDown&&s&&Q(p,t)&&(c.isPointerDown=!1,a(p))},m=p=>{c.ignoreEmulatedMouseEvents=!0,s&&c.isPointerDown&&Q(p,t)&&(c.isPointerDown=!1,a(p))},d=Me(t.current);return d.addEventListener("mousedown",u,!0),d.addEventListener("mouseup",f,!0),d.addEventListener("touchstart",u,!0),d.addEventListener("touchend",m,!0),()=>{d.removeEventListener("mousedown",u,!0),d.removeEventListener("mouseup",f,!0),d.removeEventListener("touchstart",u,!0),d.removeEventListener("touchend",m,!0)}},[s,t,a,c,i])}function Q(e,t){const s=e.composedPath?.()[0]??e.target;return s&&!Me(s).contains(s)?!1:!t.current?.contains(s)}function Me(e){return e?.ownerDocument??document}const wn={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},En={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},ue=T(function(t,s){const{size:i,colorScheme:a,variant:r,className:c,spacing:u="0.5rem",isAttached:f,isDisabled:m,orientation:d="horizontal",...p}=t,w=V("chakra-button__group",c),y=l.useMemo(()=>({size:i,colorScheme:a,variant:r,isDisabled:m}),[i,a,r,m]);let L={display:"inline-flex",...f?wn[d]:En[d](u)};const N=d==="vertical";return n.jsx(ze,{value:y,children:n.jsx(R.div,{ref:s,role:"group",__css:L,className:w,"data-attached":f?"":void 0,"data-orientation":d,flexDir:N?"column":void 0,...p})})});ue.displayName="ButtonGroup";function _n(e,t,s,i){if(t==null)return i;if(!i)return e.find(c=>s(c).toLowerCase().startsWith(t.toLowerCase()));const a=e.filter(r=>s(r).toLowerCase().startsWith(t.toLowerCase()));if(a.length>0){let r;return a.includes(i)?(r=a.indexOf(i)+1,r===a.length&&(r=0),a[r]):(r=e.indexOf(a[0]),e[r])}return i}function In(e){const{key:t}=e;return t.length===1||t.length>1&&/[^a-zA-Z0-9]/.test(t)}function Tn(e={}){const{timeout:t=300,preventDefault:s=()=>!0}=e,[i,a]=l.useState([]),r=l.useRef(void 0),c=()=>{r.current&&(clearTimeout(r.current),r.current=null)},u=()=>{c(),r.current=setTimeout(()=>{a([]),r.current=null},t)};l.useEffect(()=>c,[]);function f(m){return d=>{if(d.key==="Backspace"){const p=[...i];p.pop(),a(p);return}if(In(d)){const p=i.concat(d.key);s(d)&&(d.preventDefault(),d.stopPropagation()),a(p),m(p.join("")),u()}}}return f}const[An,On,kn,Dn]=Xe(),[Pn,Y]=re({strict:!1,name:"MenuContext"});function ve(e){return e?.ownerDocument??document}function Rn(e){return ve(e).activeElement===e}function Ln(e={}){const{id:t,closeOnSelect:s=!0,closeOnBlur:i=!0,initialFocusRef:a,autoSelect:r=!0,isLazy:c,isOpen:u,defaultIsOpen:f,onClose:m,onOpen:d,placement:p="bottom-start",lazyBehavior:w="unmount",direction:y,computePositionOnMount:L=!1,...N}=e,M=l.useRef(null),z=l.useRef(null),b=l.useRef(!0),x=kn(),A=l.useCallback(()=>{requestAnimationFrame(()=>{M.current?.focus({preventScroll:!1})})},[]),v=l.useCallback(()=>{const _=setTimeout(()=>{if(a)a.current?.focus();else if(!x.count())M.current?.focus({preventScroll:!1});else{const k=x.firstEnabled();k&&S(k.index)}});Z.current.add(_)},[x,a]),F=l.useCallback(()=>{const _=setTimeout(()=>{if(!x.count())M.current?.focus({preventScroll:!1});else{const k=x.lastEnabled();k&&S(k.index)}});Z.current.add(_)},[x]),j=l.useCallback(()=>{d?.(),r?v():A()},[r,v,A,d]),{isOpen:g,onOpen:o,onClose:C,onToggle:O}=X({isOpen:u,defaultIsOpen:f,onClose:m,onOpen:j});Cn({enabled:g&&i,ref:M,handler:_=>{const k=_.composedPath?.()?.[0]??_.target;z.current?.contains(k)||C()}});const h=Je({...N,enabled:g||L,placement:p,direction:y}),[E,S]=l.useState(-1);Mn(M,{focusRef:z,visible:g});const Ae=bn({isOpen:g,ref:M}),[Oe,ke]=Sn(t,"menu-button","menu-list"),De=l.useCallback(()=>{o(),A()},[o,A]),Z=l.useRef(new Set([]));l.useEffect(()=>{const _=Z.current;return()=>{_.forEach(k=>clearTimeout(k)),_.clear()}},[]),ee(()=>{g||(S(-1),M.current?.scrollTo(0,0))},[g]),ee(()=>{g&&E===-1&&A()},[E,g]),l.useEffect(()=>{if(!g)return;x.item(E)?.node?.focus({preventScroll:!b.current})},[x,E,g]);const Pe=l.useCallback(()=>{o(),v()},[v,o]),Re=l.useCallback(()=>{b.current=!0,o(),F()},[o,F]),Le=l.useCallback(()=>{const _=ve(M.current),k=M.current?.contains(_.activeElement);if(!(g&&!k))return;x.item(E)?.node?.focus({preventScroll:!b.current})},[g,E,x]);return{openAndFocusMenu:De,openAndFocusFirstItem:Pe,openAndFocusLastItem:Re,onTransitionEnd:Le,unstable__animationState:Ae,descendants:x,popper:h,buttonId:Oe,menuId:ke,forceUpdate:h.forceUpdate,orientation:"vertical",isOpen:g,onToggle:O,onOpen:o,onClose:C,menuRef:M,buttonRef:z,focusedIndex:E,closeOnSelect:s,closeOnBlur:i,autoSelect:r,setFocusedIndex:S,isLazy:c,lazyBehavior:w,initialFocusRef:a,scrollIntoViewRef:b}}function Nn(e={},t=null){const s=Y(),{onToggle:i,popper:a,openAndFocusFirstItem:r,openAndFocusLastItem:c,scrollIntoViewRef:u}=s,f=l.useCallback(m=>{const d=m.key,w={Enter:r,ArrowDown:r,ArrowUp:c}[d];w&&(u.current=!0,m.preventDefault(),m.stopPropagation(),w(m))},[r,c,u]);return{...e,ref:ae(s.buttonRef,t,a.referenceRef),id:s.buttonId,"data-active":Fe(s.isOpen),"aria-expanded":s.isOpen,"aria-haspopup":"menu","aria-controls":s.menuId,onClick:ne(e.onClick,i),onKeyDown:ne(e.onKeyDown,f)}}function se(e){return Wn(e)&&!!e?.getAttribute("role")?.startsWith("menuitem")}function zn(e={},t=null){const s=Y();if(!s)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:i,setFocusedIndex:a,menuRef:r,isOpen:c,onClose:u,menuId:f,isLazy:m,lazyBehavior:d,scrollIntoViewRef:p,unstable__animationState:w}=s,y=On(),L=Tn({preventDefault:b=>b.key!==" "&&se(b.target)}),N=l.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const x=b.key,v={Tab:j=>j.preventDefault(),Escape:j=>{j.stopPropagation(),u()},ArrowDown:()=>{p.current=!0;const j=y.nextEnabled(i)??y.firstEnabled();j&&a(j.index)},ArrowUp:()=>{p.current=!0;const j=y.prevEnabled(i)??y.firstEnabled();j&&a(j.index)}}[x];if(v){b.preventDefault(),v(b);return}const F=L(j=>{const g=_n(y.values(),j,o=>o?.node?.textContent??"",y.item(i));if(g){const o=y.indexOf(g.node);a(o)}});se(b.target)&&F(b)},[y,i,L,u,a,p]),M=l.useRef(!1);c&&(M.current=!0);const z=Ze({wasSelected:M.current,enabled:m,mode:d,isSelected:w.present});return{...e,ref:ae(r,t),children:z?e.children:null,tabIndex:-1,role:"menu",id:f,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:ne(e.onKeyDown,N)}}function Fn(e={}){const{popper:t,isOpen:s}=Y();return t.getPopperProps({...e,style:{visibility:s?"visible":"hidden",...e.style}})}function Bn(e={},t=null){const{onMouseEnter:s,onMouseMove:i,onMouseLeave:a,onClick:r,onFocus:c,isDisabled:u,isFocusable:f,closeOnSelect:m,type:d,...p}=e,w=Y(),{setFocusedIndex:y,focusedIndex:L,closeOnSelect:N,onClose:M,menuId:z,scrollIntoViewRef:b}=w,x=l.useRef(null),A=`${z}-menuitem-${l.useId()}`,{index:v,register:F}=Dn({disabled:u&&!f}),j=l.useCallback(S=>{s?.(S),!u&&(b.current=!1,y(v))},[y,v,u,s,b]),g=l.useCallback(S=>{i?.(S),x.current&&!Rn(x.current)&&j(S)},[j,i]),o=l.useCallback(S=>{a?.(S),!u&&y(-1)},[y,u,a]),C=l.useCallback(S=>{r?.(S),se(S.currentTarget)&&(m??N)&&M()},[M,r,N,m]),O=l.useCallback(S=>{c?.(S),y(v)},[y,c,v]),h=v===L,E=Qe({onClick:C,onFocus:O,onMouseEnter:j,onMouseMove:g,onMouseLeave:o,ref:ae(F,x,t),isDisabled:u,isFocusable:f});return{...p,...E,type:d??E.type,id:A,role:"menuitem",tabIndex:h?0:-1}}function Wn(e){if(!$n(e))return!1;const t=e.ownerDocument.defaultView??window;return e instanceof t.HTMLElement}function $n(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}const[Vn,G]=re({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Se=e=>{const{children:t}=e,s=he("Menu",e),i=xe(e),{direction:a}=Be(),{descendants:r,...c}=Ln({...i,direction:a}),u=l.useMemo(()=>c,[c]),{isOpen:f,onClose:m,forceUpdate:d}=u;return n.jsx(An,{value:r,children:n.jsx(Pn,{value:u,children:n.jsx(Vn,{value:s,children:We(t,{isOpen:f,onClose:m,forceUpdate:d})})})})};Se.displayName="Menu";const Hn=T((e,t)=>{const s=G();return n.jsx(R.button,{ref:t,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...s.button}})}),Ce=T((e,t)=>{const{children:s,as:i,...a}=e,r=Nn(a,t),c=i||Hn;return n.jsx(c,{...r,className:V("chakra-menu__menu-button",e.className),children:n.jsx(R.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});Ce.displayName="MenuButton";const we=T((e,t)=>{const s=G();return n.jsx(R.span,{ref:t,...e,__css:s.command,className:"chakra-menu__command"})});we.displayName="MenuCommand";const Ee=e=>{const{className:t,children:s,...i}=e,a=G(),r=l.Children.only(s),c=l.isValidElement(r)?l.cloneElement(r,{focusable:"false","aria-hidden":!0,className:V("chakra-menu__icon",r.props.className)}):null,u=V("chakra-menu__icon-wrapper",t);return n.jsx(R.span,{className:u,...i,__css:a.icon,children:c})};Ee.displayName="MenuIcon";const Un=T((e,t)=>{const{type:s,...i}=e,a=G(),r=i.as||s?s??void 0:"button",c=l.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...a.item}),[a.item]);return n.jsx(R.button,{ref:t,type:r,...i,__css:c})}),oe=T((e,t)=>{const{icon:s,iconSpacing:i="0.75rem",command:a,commandSpacing:r="0.75rem",children:c,...u}=e,f=Bn(u,t),d=s||a?n.jsx("span",{style:{pointerEvents:"none",flex:1},children:c}):c;return n.jsxs(Un,{...f,className:V("chakra-menu__menuitem",f.className),children:[s&&n.jsx(Ee,{fontSize:"0.8em",marginEnd:i,children:s}),d,a&&n.jsx(we,{marginStart:r,children:a})]})});oe.displayName="MenuItem";const Kn={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},Yn=R(Ve.div),_e=T(function(t,s){const{rootProps:i,motionProps:a,...r}=t,{isOpen:c,onTransitionEnd:u,unstable__animationState:f}=Y(),m=zn(r,s),d=Fn(i),p=G();return n.jsx(R.div,{...d,__css:{zIndex:t.zIndex??p.list?.zIndex},children:n.jsx(Yn,{variants:Kn,initial:!1,animate:c?"enter":"exit",__css:{outline:0,...p.list},...a,...m,className:V("chakra-menu__menu-list",m.className),onUpdate:u,onAnimationComplete:$e(f.onComplete,m.onAnimationComplete)})})});_e.displayName="MenuList";const[Gn,Ie]=re({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),J=T((e,t)=>{const s=he("Tag",e),i=xe(e),a={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...s.container};return n.jsx(Gn,{value:s,children:n.jsx(R.span,{ref:t,...i,__css:a})})});J.displayName="Tag";const qn=T((e,t)=>{const s=Ie();return n.jsx(R.span,{ref:t,noOfLines:1,...e,__css:s.label})});qn.displayName="TagLabel";const Jn=T((e,t)=>n.jsx(ie,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e}));Jn.displayName="TagLeftIcon";const Xn=T((e,t)=>n.jsx(ie,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e}));Xn.displayName="TagRightIcon";const Te=e=>n.jsx(ie,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:n.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});Te.displayName="TagCloseIcon";const Zn=T((e,t)=>{const{isDisabled:s,children:i,...a}=e,c={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...Ie().closeButton};return n.jsx(R.button,{ref:t,"aria-label":"close",...a,type:"button",disabled:s,__css:c,children:i||n.jsx(Te,{})})});Zn.displayName="TagCloseButton";function Qn({months:e}){const t=D(r=>r.selectedMonth),s=D(r=>r.setSelectedMonth),i=l.useMemo(()=>{const r=new Set(e.map(c=>c.slice(0,4)));return Array.from(r).sort((c,u)=>c.localeCompare(u))},[e]),a=r=>{const c=K(t).format("MM"),u=`${r}-${c}`,f=e.filter(d=>d.startsWith(r)).sort().at(-1),m=e.includes(u)?u:f;m&&s(m)};return n.jsx(ue,{spacing:2,children:i.map(r=>{const c=t?.startsWith(`${r}-`);return n.jsx($,{onClick:()=>a(r),colorScheme:c?"teal":"gray",variant:c?"solid":"ghost",fontWeight:c?"bold":"normal",size:"md","aria-pressed":c?"true":"false",children:r},r)})})}const et=l.lazy(()=>B(()=>import("./ApplyToBudgetModal-SjJY_reA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),nt=l.lazy(()=>B(()=>import("./SavingsReviewModal-CcOGyN5u.js"),__vite__mapDeps([12,1,2,4,13,7,8,11]))),tt=l.lazy(()=>B(()=>import("./ConfirmModal-CBVh5qVN.js"),__vite__mapDeps([14,1,2,4])));function st({acct:e,acctNumber:t}){const s=D(o=>o.ORIGIN_COLOR_MAP),i=D(o=>o.accounts),a=D(o=>o.removeAccount),r=D(o=>o.selectedMonth),c=D(o=>o.setSelectedMonth),u=i[t],f=u.transactions,m=D(o=>o.getAccountStagedSessionSummaries),d=D(o=>o.undoStagedImport),p=m(e.accountNumber),w=p.reduce((o,C)=>o+(C.stagedNow||C.count||0),0),y=e.institution||"Institution Unknown",{isOpen:L,onOpen:N,onClose:M}=X(),z=u,b=z?.label||z?.accountNumber||"Account",x=l.useMemo(()=>He(e),[e]),A=l.useMemo(()=>Array.from(new Set(x.map(o=>o.slice(0,4)))).sort(),[x]),v=K(r).year().toString(),j=A.includes(v)?v:A.at(-1),g=l.useMemo(()=>x.filter(o=>o.startsWith(j)).sort(),[x,j]);return n.jsxs(n.Fragment,{children:[n.jsxs(W,{justifyContent:"space-between",alignItems:"center",mb:3,children:[n.jsxs(Ue,{align:"start",spacing:0,children:[n.jsx(I,{fontWeight:"bold",children:b}),n.jsx(I,{fontSize:"sm",color:"gray.500",children:y}),n.jsxs(I,{fontSize:"sm",color:"gray.500",children:["Imported ",K(e.importedAt).format("MMM D, YYYY @ h:mm A")]})]}),n.jsxs(W,{alignItems:"center",gap:3,children:[n.jsxs(q,{spacing:1,children:[Ge(f).map(o=>n.jsx(de,{label:`Imported via ${o}`,hasArrow:!0,children:n.jsx(J,{size:"sm",colorScheme:s[o.toLowerCase()]||"gray",children:o?.toUpperCase()||"manual"})},o)),w>0&&n.jsxs(Se,{placement:"bottom-start",closeOnSelect:!1,children:[n.jsx(de,{label:`${w} staged (click for details / undo)`,hasArrow:!0,children:n.jsxs(Ce,{as:J,size:"sm",cursor:"pointer",colorScheme:"yellow",display:"flex",alignItems:"center",gap:1,children:[w," STAGED ",n.jsx(an,{})]})}),n.jsxs(_e,{fontSize:"xs",maxW:"320px",children:[p.map(o=>{const C=o.status==="active"&&o.expiresAt?Math.max(0,Math.ceil((o.expiresAt-Date.now())/6e4)):null,O={active:"yellow",expired:"gray",applied:"teal","partial-applied":"purple",undone:"red","partial-undone":"orange"}[o.status]||"blue",h=o.newCount?Math.round((o.appliedCount||0)/o.newCount*100):0;return n.jsx(oe,{as:P,closeOnSelect:!1,_focus:{outline:"none",bg:"transparent"},_hover:{bg:"gray.50"},children:n.jsxs(W,{direction:"column",w:"100%",gap:1,children:[n.jsxs(W,{justify:"space-between",align:"center",gap:2,children:[n.jsxs(q,{spacing:1,align:"center",children:[n.jsx(I,{fontSize:"xs",fontWeight:"bold",isTruncated:!0,title:o.sessionId,children:o.sessionId.slice(0,8)}),n.jsx(me,{colorScheme:O,fontSize:"0.55rem",px:1,children:o.status?.replace("-"," ")||"—"}),o.status&&o.status.startsWith("partial")&&n.jsxs(me,{colorScheme:"pink",fontSize:"0.5rem",children:[h,"%"]})]}),n.jsxs(q,{spacing:1,children:[C!==null&&n.jsxs(I,{fontSize:"8px",color:"orange.600",children:[C,"m"]}),n.jsx($,{size:"xs",variant:"outline",colorScheme:"red",isDisabled:!o.canUndo,onClick:()=>o.canUndo&&d(e.accountNumber,o.sessionId),children:"Undo"})]})]}),n.jsxs(I,{fontSize:"9px",color:"gray.600",children:["Staged: ",o.stagedNow||o.count," / New: ",o.newCount??"—",o.removed?` | Removed: ${o.removed}`:""]}),o.status==="partial-applied"&&n.jsx(P,{h:"4px",bg:"purple.100",borderRadius:"sm",children:n.jsx(P,{h:"100%",w:`${h}%`,bg:"purple.400",borderRadius:"sm"})}),o.status==="partial-undone"&&n.jsx(P,{h:"4px",bg:"orange.100",borderRadius:"sm",children:n.jsx(P,{h:"100%",w:`${h}%`,bg:"orange.400",borderRadius:"sm"})}),o.savingsCount!==void 0&&n.jsxs(I,{fontSize:"9px",color:"gray.600",children:["Savings: ",o.savingsCount," | Hash: ",o.hash?.slice(0,8)]}),o.importedAt&&n.jsxs(I,{fontSize:"8px",color:"gray.500",children:[K(o.importedAt).format("MMM D HH:mm")," • ",o.status]})]})},o.sessionId)}),p.length===0&&n.jsx(oe,{disabled:!0,children:"No staged sessions"})]})]})]}),n.jsx($,{size:"xs",colorScheme:"red",onClick:()=>a(t),children:"Remove"})]})]},e.id),n.jsx(ue,{isAttached:!1,spacing:2,children:n.jsx(Qn,{months:x})}),n.jsxs(en,{isLazy:!0,variant:"enclosed",colorScheme:"teal",mt:4,index:Math.max(0,g.indexOf(r)),onChange:o=>{const C=g[o];C&&c(C)},children:[n.jsx(nn,{children:g.map(o=>n.jsx(tn,{minWidth:1,fontWeight:"bold",fontSize:22,children:K(o).format("MMM")},o))}),n.jsx(sn,{children:g.map(o=>{const C=e.transactions.filter(h=>h.date?.startsWith(o)),O=Ke(e,o);return n.jsx(n.Fragment,{children:n.jsxs(on,{p:0,m:2,children:[n.jsx(P,{maxHeight:"md",overflowY:"scroll",children:n.jsxs(cn,{size:"sm",variant:"striped",children:[n.jsx(ln,{children:n.jsxs(pe,{children:[n.jsx(H,{children:"Date"}),n.jsx(H,{children:"Description"}),n.jsx(H,{isNumeric:!0,children:"Amount"}),n.jsx(H,{children:"Type"}),n.jsx(H,{children:"Category"})]})}),n.jsx(un,{children:C.map(h=>{const E=h.importSessionId&&!h.staged&&h.budgetApplied;return n.jsxs(pe,{bg:h.staged?"yellow.50":E?"teal.50":void 0,opacity:h.staged?.85:1,children:[n.jsx(U,{whiteSpace:"nowrap",children:qe(h.date)}),n.jsx(U,{children:h.description}),n.jsxs(U,{isNumeric:!0,color:(h.rawAmount??0)<0?"red.500":"green.600",children:["$",Math.abs(h.rawAmount??h.amount).toFixed(2)]}),n.jsx(U,{children:n.jsxs(J,{size:"sm",colorScheme:h.type==="income"?"green":h.type==="savings"?"blue":"orange",children:[h.type,h.staged?"*":""]})}),n.jsx(U,{children:h.category||"—"})]},h.id)})})]})}),n.jsx(P,{my:6,px:4,py:2,borderWidth:1,borderRadius:"md",bg:"gray.100",children:n.jsxs(W,{justifyContent:"space-between",alignItems:"center",wrap:"wrap",gap:2,children:[n.jsxs(I,{fontWeight:"medium",children:["Income: ",n.jsxs("span",{style:{color:"green"},children:["$",O.income.toFixed(2)]})]}),n.jsxs(I,{fontWeight:"medium",children:["Expenses: ",n.jsxs("span",{style:{color:"orange"},children:["$",O.expenses.toFixed(2)]})]}),n.jsxs(I,{fontWeight:"medium",children:["Savings: ",n.jsxs("span",{style:{color:"blue"},children:["$",O.savings.toFixed(2)]})]}),n.jsxs(I,{fontWeight:"medium",children:["Net:"," ",n.jsxs("span",{style:{color:O.net>=0?"green":"red"},children:["$",O.net.toFixed(2)]})]})]})}),n.jsx(ce,{children:n.jsx($,{size:"sm",colorScheme:"teal",onClick:N,children:"✅ Apply to Budget"})}),n.jsxs(l.Suspense,{fallback:n.jsx(te,{}),children:[n.jsx(et,{isOpen:L,onClose:M,acct:e,months:x}),n.jsx(nt,{}),n.jsx(tt,{})]})]},o)})})})]})]})}const ot=l.lazy(()=>B(()=>import("./ImportTransactionsModal-D9Mogmb5.js"),__vite__mapDeps([15,1,2,16,3,17,18,19,20,21,22,10,4,7,23,11,13,8,24,25,26,27,28,29,30]))),fe=()=>B(()=>import("./ImportTransactionsModal-D9Mogmb5.js"),__vite__mapDeps([15,1,2,16,3,17,18,19,20,21,22,10,4,7,23,11,13,8,24,25,26,27,28,29,30])),rt=l.lazy(()=>B(()=>import("./SyncAccountsModal-WhFL79qo.js"),__vite__mapDeps([31,1,2,17,16,3,18,19,20,21,22,10,4,5,6,7,8,11,26,27,24,28,29,30]))),at=()=>B(()=>import("./SyncAccountsModal-WhFL79qo.js"),__vite__mapDeps([31,1,2,17,16,3,18,19,20,21,22,10,4,5,6,7,8,11,26,27,24,28,29,30]));function it(){const e=D(a=>a.accounts),t=X(),s=X(),i=Ye("gray.50","gray.700");return n.jsxs(n.Fragment,{children:[n.jsx(ce,{mb:4,children:n.jsxs(q,{spacing:4,children:[n.jsx($,{colorScheme:"teal",onClick:t.onOpen,onMouseEnter:at,children:"Sync Accounts"}),n.jsx($,{colorScheme:"purple",variant:"outline",onClick:s.onOpen,onMouseEnter:fe,onFocus:fe,children:"Import Transactions"})]})}),n.jsx(l.Suspense,{fallback:n.jsx(te,{}),children:n.jsx(rt,{isOpen:t.isOpen,onClose:t.onClose})}),n.jsx(l.Suspense,{fallback:n.jsx(te,{}),children:n.jsx(ot,{isOpen:s.isOpen,onClose:s.onClose})}),Object.entries(e).length>0&&n.jsxs(P,{children:[n.jsx(ge,{size:"md",mb:2,mx:4,children:"Synced Accounts"}),Object.entries(e).map(([a,r])=>n.jsx(P,{borderWidth:"1px",borderRadius:"lg",p:4,mb:6,mx:4,bg:i,children:n.jsx(st,{acct:r,acctNumber:a})},a))]})]})}function ct(){const e=D(t=>t.isLoading);return n.jsx(P,{bg:"gray.200",p:3,minH:"96vh",children:n.jsxs(P,{p:4,maxW:"930px",mx:"auto",borderWidth:1,borderRadius:"lg",boxShadow:"md",background:"white",children:[n.jsx(ce,{mb:4,children:n.jsx(ge,{size:"md",fontWeight:700,children:"Accounts Tracker"})}),e?n.jsx(W,{pos:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:"modal",bg:"rgba(0,0,0,0.4)",justify:"center",align:"center",children:n.jsx(dn,{})}):n.jsx(it,{})]})})}const St=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"}));export{St as A,J as T};
