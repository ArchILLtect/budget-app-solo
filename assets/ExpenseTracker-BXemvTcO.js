import{u as i,j as e,i as v,s as z,K as J,B as F,F as y,H as G,t as A}from"./index-xwMjE7XY.js";import{r as L}from"./recharts-fUgtte1b.js";import{I as w}from"./input-QV5FdPZP.js";import{I as se}from"./icon-button-BDXy_4vp.js";import{D as ie,A as Z,S as oe}from"./Delete-BFoxJvMo.js";import{C as ae}from"./checkbox-BpOi7ikZ.js";import{T as Y}from"./tooltip-DWNPoC6y.js";import{F as N}from"./use-form-control-B6IaQYr4.js";import{F as W}from"./form-label-Cqg8IcOd.js";import{R as q,a as C}from"./radio-BNrj3pDp.js";import{S as ce}from"./select-CEgIQikT.js";import{C as le}from"./center-CIAJU8Ix.js";import{C as V}from"./collapse-CgUcSxe4.js";import{T as de,a as me,b as ee,c as ue,d as ne}from"./tab-panels-hxep4z5W.js";import{S as H,a as O,b as B}from"./stat-number-O1IGy_6B.js";import{S as te}from"./stat-help-text-LexhNEvj.js";import{c as he}from"./create-icon-DM1WmCyW.js";const Q=he({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"});function xe({origin:a="Planner",selectedMonth:r=null}){const d=i(t=>t.monthlyActuals[r]?.overiddenIncomeTotal),S=i(t=>t.setOveriddenIncomeTotal),c=i(t=>t.addFixedIncomeSource),E=i(t=>t.updateFixedIncomeSource),b=i(t=>t.removeFixedIncomeSource),m=i(t=>t.addActualIncomeSource),f=i(t=>t.removeActualIncomeSource),T=i(t=>t.updateMonthlyIncomeActuals),o=(i(t=>t.monthlyActuals[r])||{}).actualFixedIncomeSources||[],[p,g]=L.useState(d>=1),l=a==="Tracker",j=l?t=>m(r,t):c,I=l?(t,u)=>T(r,t,u):E,h=l?t=>f(r,t):b,R=t=>{window.confirm("Are you sure you want to remove this expense?")&&h(t)};return L.useEffect(()=>{g(d>=1)},[d]),e.jsx(v,{borderWidth:"1px",borderRadius:"lg",p:4,mt:6,children:e.jsxs(z,{spacing:3,children:[o.map(t=>e.jsxs(J,{children:[e.jsx(w,{value:t.description,isInvalid:!t?.description?.trim(),onChange:u=>I(t.id,{description:u.target.value}),placeholder:"Source name"}),e.jsx(w,{type:"number",value:t.amount,isInvalid:t.amount<0,onChange:u=>I(t.id,{amount:parseFloat(u.target.value)||0}),placeholder:"Amount"}),t.id!=="main"&&e.jsx(se,{"aria-label":"Remove source",icon:e.jsx(ie,{}),onClick:()=>R(t.id),size:"sm",colorScheme:"red"})]},t.id)),l?e.jsxs(y,{justifyContent:"space-between",alignItems:"center",children:[e.jsx(v,{width:"25%",p:1,children:e.jsx(F,{onClick:()=>j({name:"",amount:0}),leftIcon:e.jsx(Z,{}),size:"sm",children:"Add Source"})}),e.jsxs(y,{gap:2,alignItems:"center",p:2,borderWidth:1,borderColor:"lightpink",children:[e.jsxs(y,{gap:2,alignItems:"center",py:"7px",px:4,borderWidth:1,borderColor:"gray.200",borderRadius:"md",children:[e.jsx(ae,{isChecked:p,onChange:t=>{const u=t.target.checked;g(u),u||S(r,0)},whiteSpace:"nowrap",children:"Total Override"}),e.jsx(Y,{label:"Use this to override the system-calculated total.",hasArrow:!0,placement:"top",children:e.jsx("span",{children:e.jsx(Q,{color:"gray.500"})})})]}),e.jsx(w,{type:"number",value:p?d??"":"",isDisabled:!p,onChange:t=>{const u=parseFloat(t.target.value);S(r,isNaN(u)?0:u)}})]})]}):e.jsx(v,{width:"25%",p:1,children:e.jsx(F,{onClick:()=>j({name:"",amount:0}),leftIcon:e.jsx(Z,{}),size:"sm",children:"Add Source"})})]})})}function pe({source:a,onUpdate:r}){const d=i(c=>c.removeIncomeSource),S=()=>{window.confirm("Are you sure you want to remove this income source?")&&d(a.id)};return e.jsxs(e.Fragment,{children:[e.jsxs(N,{mb:4,children:[e.jsx(W,{children:"Income Type"}),e.jsx(q,{value:a.type,onChange:c=>r(a.id,{type:c}),children:e.jsxs(J,{spacing:4,children:[e.jsx(C,{value:"hourly",children:"Hourly"}),e.jsx(C,{value:"salary",children:"Salary"})]})})]}),a.type==="hourly"&&e.jsxs(z,{spacing:3,children:[e.jsxs(N,{children:[e.jsx(W,{children:"Hourly Rate ($/hr)"}),e.jsx(w,{type:"number",placeholder:"Enter your hourly rate",value:a.hourlyRate,onChange:c=>r(a.id,{hourlyRate:parseFloat(c.target.value)||0})})]}),e.jsxs(N,{children:[e.jsx(W,{children:"Hours/Week"}),e.jsx(w,{type:"number",placeholder:"Enter hours per week",value:a.hoursPerWeek,onChange:c=>r(a.id,{hoursPerWeek:parseFloat(c.target.value)||0})})]})]}),a.type==="salary"&&e.jsxs(N,{children:[e.jsx(W,{children:"Annual Gross Salary"}),e.jsx(w,{type:"number",placeholder:"Enter your annual gross salary",min:"0",step:"1",max:"1000000",value:a.grossSalary,onChange:c=>r(a.id,{grossSalary:parseFloat(c.target.value)||0})})]}),e.jsxs(N,{mt:5,mb:4,children:[e.jsx(W,{children:"Select State (for tax estimate)"}),e.jsx(ce,{value:a.state,onChange:c=>r(a.id,{state:c.target.value}),children:e.jsx("option",{value:"WI",children:"Wisconsin"})})]}),a.id!=="primary"&&e.jsx(le,{children:e.jsx(F,{mt:4,size:"sm",colorScheme:"red",onClick:()=>S(),children:"Delete This Source"})})]})}function We({origin:a="Planner",selectedMonth:r=null}){const[d,S]=L.useState(!1),{scenarios:c,currentScenario:E,updateScenario:b}=i(),m=i(s=>s.incomeSources),f=i(s=>s.showIncomeInputs),T=i(s=>s.setShowIncomeInputs),k=i(s=>s.selectedSourceId),D=i(s=>s.selectIncomeSource),o=i(s=>s.updateIncomeSource),p=i(s=>s.addIncomeSource),g=i(s=>s.setFilingStatus),l=i.getState().getTotalGrossIncome(),j=i(s=>s.monthlyActuals[r]),I=L.useMemo(()=>m.find(s=>s.id===k)||m[0]||{},[m,k]),{net:h,breakdown:R}=i.getState().getTotalNetIncome(),t=a==="Tracker",u=()=>{const s=crypto.randomUUID(),$={id:s,description:`Income ${m.length+1}`,type:"hourly",hourlyRate:0,hoursPerWeek:0,grossSalary:0,state:"WI"};p($),D(s)},M=s=>{b(E,{filingStatus:s}),g(s)},U=()=>{window.alert("This feature coming soon")},P=I?.id,K=I?.netIncome;return L.useEffect(()=>{if(!P)return;const s=Number(h)||0;(Number(K)||0)!==s&&o(P,{netIncome:s})},[P,K,h,o]),e.jsxs(v,{borderWidth:"1px",borderRadius:"lg",p:4,mb:6,children:[e.jsxs(y,{justifyContent:"space-between",alignItems:"center",borderWidth:1,p:3,borderRadius:"lg",children:[e.jsx(G,{size:"md",children:"Monthly Income"}),!t&&e.jsx(F,{variant:"outline",colorScheme:"blue",onClick:()=>U(),children:"Use Fixed Income"}),t?e.jsx(G,{size:"md",children:j?.actualTotalNetIncome?`$${j.actualTotalNetIncome.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:"No Actual Income Yet"}):e.jsxs(G,{size:"md",children:["$",(h/12).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx(y,{justifyContent:"end",my:2,children:e.jsx(F,{size:"xs",variant:"link",colorScheme:"blue",ml:2,onClick:()=>T(!f),children:f?"Hide Income Inputs":"Show Income Inputs"})}),e.jsx(V,{mb:4,in:f,animateOpacity:!0,children:t?e.jsx(xe,{origin:a,selectedMonth:r}):e.jsxs(e.Fragment,{children:[e.jsxs(N,{mb:4,children:[e.jsx(W,{children:"Filing Status"}),e.jsx(q,{value:c[E].filingStatus,onChange:s=>M(s),children:e.jsxs(J,{spacing:4,children:[e.jsx(C,{value:"single",children:"Single"}),e.jsx(C,{value:"headOfHousehold",children:"Head of household"}),e.jsx(C,{value:"marriedSeparate",children:"Married filing seperately"}),e.jsx(C,{value:"marriedJoint",children:"Married filing jointly"})]})})]}),e.jsxs(de,{index:m.findIndex(s=>s.id===k),onChange:s=>{s<m.length&&D(m[s].id)},isLazy:!0,variant:"enclosed",children:[e.jsxs(me,{children:[m.map(s=>e.jsx(ee,{children:s.description},s.id)),e.jsx(ee,{onClick:()=>u(),children:"+ Add"})]}),e.jsxs(ue,{children:[m.map(s=>e.jsx(ne,{children:e.jsx(pe,{source:s,onUpdate:o})},s.id)),e.jsx(ne,{children:e.jsx(F,{onClick:()=>u(),children:"Create New Income Source"})})]})]})]})}),l>0&&!t?e.jsx(v,{mt:2,px:4,py:3,borderWidth:1,borderRadius:"md",bg:"gray.50",children:e.jsxs(oe,{children:[e.jsxs(H,{textAlign:"center",children:[e.jsx(O,{children:"Est. Gross Salary"}),e.jsxs(B,{color:"teal.600",children:["$",l.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx(te,{mb:0,children:"Before taxes"})]}),e.jsxs(H,{textAlign:"center",children:[e.jsxs(O,{children:["ðŸ’° Est. Net Salary",e.jsx(Y,{label:"Includes federal, state, SS, and Medicare taxes",hasArrow:!0,placement:"right",children:e.jsx(Q,{ml:2,color:"gray.500"})})]}),e.jsxs(B,{color:"green.600",children:["$",h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs(te,{mb:0,children:[e.jsxs(z,{gap:0,children:[e.jsx(A,{children:"After taxes"}),e.jsx(F,{size:"xs",variant:"link",colorScheme:"blue",ml:2,onClick:()=>S(!d),children:d?"Hide Breakdown":"Show Breakdown"})]}),e.jsx(V,{in:d,animateOpacity:!0,children:e.jsxs(z,{mt:3,spacing:2,children:[e.jsxs(v,{bg:"gray.100",p:3,borderRadius:"md",children:[e.jsx(A,{fontWeight:"semibold",children:"Estimated Federal Tax:"}),e.jsxs(A,{children:["$",R.federalTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs(v,{bg:"gray.100",p:3,borderRadius:"md",children:[e.jsx(A,{fontWeight:"semibold",children:"State Tax (WI):"}),e.jsxs(A,{children:["$",R.stateTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs(v,{bg:"gray.100",p:3,borderRadius:"md",children:[e.jsx(A,{fontWeight:"semibold",children:"Social Security:"}),e.jsxs(A,{children:["$",R.ssTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs(v,{bg:"gray.100",p:3,borderRadius:"md",children:[e.jsx(A,{fontWeight:"semibold",children:"Medicare:"}),e.jsxs(A,{children:["$",R.medicareTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]})]})]})}):null]})}function ge(){const{currentScenario:a,expenses:r,updateExpense:d,addExpense:S,removeExpense:c,saveScenario:E}=i(),b=i(o=>o.savingsMode),m=i(o=>o.customSavings),f=i(o=>o.setSavingsMode),T=i(o=>o.setCustomSavings),k=i(o=>o.getTotalNetIncome().net),D=(o,p)=>{const g=(Number(k)||0)/12;let l=0;o==="10"?l=.1:o==="20"?l=.2:o==="custom"&&(l=(Number(p)||0)/100);const j=+(g*l).toFixed(2),I=r.find(h=>h.id==="savings");if(l<=0){I&&c("savings");return}I?I.amount!==j&&d("savings",{amount:j}):S({id:"savings",name:"Savings",amount:j,isSavings:!0})};return e.jsx(e.Fragment,{children:e.jsxs(N,{mt:4,children:[e.jsx(W,{fontWeight:"semibold",children:"Include Savings?"}),e.jsx(q,{value:b,onChange:o=>{if(o!==b){f(o);const p=o==="custom"?m??0:0;o!=="custom"&&(m??0)!==0&&T(0),D(o,p),a&&E(a)}},children:e.jsxs(z,{direction:"row",children:[e.jsx(C,{value:"none",children:"None"}),e.jsx(C,{value:"10",children:"10%"}),e.jsx(C,{value:"20",children:"20%"}),e.jsx(C,{value:"custom",children:"Custom"})]})}),b==="custom"&&e.jsx(w,{mt:2,type:"number",max:100,min:0,value:m??0,placeholder:"Enter custom %",onChange:o=>{const p=Number(o.target.value),g=Number.isFinite(p)?p:0,l=Math.max(0,Math.min(100,g));l!==(m??0)&&(b!=="custom"&&f("custom"),T(l),D("custom",l),a&&E(a))}})]})})}function Le({origin:a="Planner",selectedMonth:r=null}){const{currentScenario:d,saveScenario:S,showExpenseInputs:c,setShowExpenseInputs:E}=i(),b=i(n=>n.expenses),m=i(n=>n.addExpense),f=i(n=>n.updateExpense),T=i(n=>n.removeExpense),k=i(n=>n.addActualExpense),D=i(n=>n.removeActualExpense),o=i(n=>n.monthlyActuals[r]),p=i(n=>n.updateMonthlyExpenseActuals),g=i(n=>n.monthlyActuals[r]?.overiddenExpenseTotal),l=i(n=>n.setOveriddenExpenseTotal),[j,I]=L.useState(g>=1),h=a==="Tracker",t=(o||{}).actualExpenses||[],u=h?t:b,M=h?n=>k(r,n):n=>{m(n),d&&S(d)},U=h?(n,x)=>p(r,n,x):(n,x)=>{f(n,x),d&&S(d)},P=h?n=>D(r,n):n=>{T(n),d&&S(d)},s=i(n=>n.getTotalNetIncome().net)/12,$=u.reduce((n,x)=>n+(x.amount||0),0),X=u.find(n=>n.id==="savings")?.amount||0,_=s-$;L.useEffect(()=>{I(g>=1)},[g]);const re=n=>{window.confirm("Are you sure you want to remove this expense?")&&P(n)};return e.jsxs(v,{borderWidth:"1px",borderRadius:"lg",p:4,mt:6,children:[e.jsxs(y,{justifyContent:"space-between",alignItems:"center",borderWidth:1,p:3,borderRadius:"lg",children:[e.jsx(G,{size:"md",children:"Expenses (Monthly)"}),e.jsxs(G,{size:"md",children:["$",$.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx(y,{justifyContent:"end",my:2,children:e.jsx(F,{size:"xs",variant:"link",colorScheme:"blue",ml:2,onClick:()=>E(!c),children:c?"Hide Expense Inputs":"Show Expense Inputs"})}),e.jsxs(z,{spacing:3,children:[e.jsx(V,{mb:4,in:c,animateOpacity:!0,children:e.jsxs(z,{spacing:3,children:[u.map(n=>e.jsxs(J,{children:[e.jsx(w,{value:n?.name,isInvalid:!n?.name?.trim(),isDisabled:n?.name==="Rent",onChange:x=>U(n.id,{name:x.target.value}),placeholder:"Expense name"}),e.jsx(w,{type:"number",value:n.amount,isInvalid:n.amount<=0,onChange:x=>U(n.id,{amount:parseFloat(x.target.value)||0}),placeholder:"Amount"}),n.id!=="rent"&&!n.isSavings&&e.jsx(se,{"aria-label":"Remove expense",icon:e.jsx(ie,{}),onClick:()=>re(n.id),size:"sm",colorScheme:"red"})]},n.id)),h?e.jsxs(y,{justifyContent:"space-between",alignItems:"center",children:[e.jsx(v,{width:"25%",p:1,children:e.jsx(F,{onClick:()=>M({name:"",amount:0}),leftIcon:e.jsx(Z,{}),size:"sm",children:"Add Expense"})}),e.jsxs(y,{gap:2,alignItems:"center",p:2,borderWidth:1,borderColor:"lightpink",children:[e.jsxs(y,{gap:2,alignItems:"center",py:"7px",px:4,borderWidth:1,borderColor:"gray.200",borderRadius:"md",children:[e.jsx(ae,{isChecked:j,onChange:n=>{const x=n.target.checked;I(x),x||l(r,0)},whiteSpace:"nowrap",children:"Total Override"}),e.jsx(Y,{label:"Use this to override the system-calculated total.",hasArrow:!0,placement:"top",children:e.jsx("span",{children:e.jsx(Q,{color:"gray.500"})})})]}),e.jsx(w,{type:"number",value:j?g??"":"",isDisabled:!j,onChange:n=>{const x=parseFloat(n.target.value);l(r,isNaN(x)?0:x)}})]})]}):e.jsx(v,{width:"25%",p:1,children:e.jsx(F,{onClick:()=>M({name:"",amount:0}),leftIcon:e.jsx(Z,{}),size:"sm",children:"Add Expense"})}),!h&&e.jsx(ge,{})]})}),!h&&e.jsx(v,{mt:2,px:4,py:3,borderWidth:1,borderRadius:"md",bg:"gray.50",children:e.jsxs(oe,{children:[e.jsxs(H,{textAlign:"center",children:[e.jsx(O,{children:"Est. Net Income"}),e.jsxs(B,{color:"teal.600",children:["$",s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs(H,{textAlign:"center",children:[e.jsx(O,{children:"Total Expenses"}),e.jsxs(B,{color:"teal.600",children:["$",$.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),X>0&&e.jsxs(H,{textAlign:"center",children:[e.jsx(O,{children:"Total Savings"}),e.jsxs(B,{color:"teal.600",children:["$",X.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs(H,{textAlign:"center",children:[e.jsx(O,{children:"Leftover"}),e.jsxs(B,{color:_>=0?"green.600":"red.600",fontSize:"2xl",children:["$",_.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]})]})}export{Le as E,We as I};
