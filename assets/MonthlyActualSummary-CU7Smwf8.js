import{u as o,y as B,d as D,j as t,i as u,F as W,H as f,B as R,s as N,t as I,P as H}from"./index-xwMjE7XY.js";import{I as P,E as G}from"./ExpenseTracker-BXemvTcO.js";import{C as q}from"./collapse-CgUcSxe4.js";import{S as L}from"./Delete-BFoxJvMo.js";import{S as r,a as i,b as a}from"./stat-number-O1IGy_6B.js";import"./recharts-fUgtte1b.js";import"./input-QV5FdPZP.js";import"./use-form-control-B6IaQYr4.js";import"./icon-button-BDXy_4vp.js";import"./checkbox-BpOi7ikZ.js";import"./visually-hidden.style-Bfr07Aua.js";import"./omit-QLD0Eizt.js";import"./tooltip-DWNPoC6y.js";import"./create-icon-DM1WmCyW.js";import"./use-event-listener-BvnzY9DD.js";import"./form-label-Cqg8IcOd.js";import"./radio-BNrj3pDp.js";import"./split-CzYrjwZo.js";import"./select-CEgIQikT.js";import"./center-CIAJU8Ix.js";import"./tab-panels-hxep4z5W.js";import"./stat-help-text-LexhNEvj.js";function ht(){const n=o(e=>e.selectedMonth),x=o(e=>e.showActualInputs),E=o(e=>e.setShowActualInputs),l=o(e=>e.monthlyPlans[n]),m=o(e=>e.monthlyActuals[n]),F=o(e=>e.getSavingsForMonth(n)),h=o(e=>e.monthlyActuals[n]?.overiddenIncomeTotal),g=o(e=>e.monthlyActuals[n]?.overiddenExpenseTotal),w=B("white","gray.700"),v=(e,s)=>e!=null&&e>=1?e:s(),b=v(h,()=>m?.actualFixedIncomeSources?.reduce((e,s)=>e+(s.amount||0),0)||0),T=v(g,()=>m?.actualExpenses?.reduce((e,s)=>e+(s.amount||0),0)||0),d=m?.actualSavings||F||0,y=b-T-d,O=l?.totalSavings?Math.min(d/l.totalSavings*100,100):0,Y=o(e=>e.monthlyActuals),C=o(e=>e.savingsLogs),c=D(n).format("YYYY"),A=Object.fromEntries(Object.entries(Y).filter(([e])=>e.startsWith(c))),M=Object.fromEntries(Object.entries(C).filter(([e])=>e.startsWith(c))),$=Object.values(A).reduce((e,s)=>e+(s.actualTotalNetIncome||0),0),k=Object.values(A).reduce((e,s)=>{const p=s.actualExpenses?.reduce((j,S)=>j+(S.amount||0),0)||0;return e+p},0),z=Object.values(M).reduce((e,s)=>{const p=s.reduce((j,S)=>j+(S.amount||0),0)||0;return e+p},0);return t.jsxs(u,{p:4,borderBottomRadius:"lg",boxShadow:"md",bg:w,borderWidth:2,children:[m&&t.jsxs(t.Fragment,{children:[t.jsxs(W,{justifyContent:"space-between",alignItems:"center",mb:3,children:[t.jsx(f,{size:"md",children:"This Month's Summary"}),t.jsx(R,{size:"xs",variant:"link",colorScheme:"blue",ml:2,onClick:()=>E(!x),children:x?"Hide All Inputs":"Show All Inputs"})]}),t.jsx(N,{spacing:3,children:t.jsxs(q,{mb:4,in:x,animateOpacity:!0,children:[t.jsx(P,{origin:"Tracker",selectedMonth:n}),t.jsx(G,{origin:"Tracker",selectedMonth:n}),t.jsx("hr",{style:{marginTop:"15px",marginBottom:"15px"}})]})})]}),t.jsx(u,{px:4,py:3,borderWidth:1,borderRadius:"md",bg:"gray.50",children:t.jsxs(L,{children:[t.jsxs(r,{textAlign:"center",children:[t.jsx(i,{children:"Actual Net Income"}),t.jsxs(a,{color:"teal.500",children:["$",h||b.toLocaleString()]})]}),t.jsxs(r,{textAlign:"center",children:[t.jsx(i,{children:"Total Expenses"}),t.jsxs(a,{color:"orange.500",children:["$",g||T.toLocaleString()]})]}),t.jsxs(r,{textAlign:"center",children:[t.jsx(i,{children:"Total Saved"}),t.jsxs(a,{color:"blue.500",children:["$",d.toLocaleString()]})]}),t.jsxs(r,{textAlign:"center",children:[t.jsx(i,{children:"Leftover"}),t.jsxs(a,{color:y>=0?"green.500":"red.500",children:["$",y.toLocaleString()]})]})]})}),l?.totalSavings>0?t.jsxs(u,{mt:4,children:[t.jsx(I,{fontSize:"sm",color:"gray.500",children:"Savings progress toward this month's savings plan:"}),t.jsx(H,{value:O,size:"sm",colorScheme:"green",mt:1,borderRadius:"md"}),t.jsxs(I,{fontSize:"xs",mt:1,children:["(",d?.toLocaleString()," of ",l.totalSavings?.toLocaleString()," planned)"]})]}):"",t.jsxs(f,{size:"md",my:3,children:[c," Summary"]}),t.jsx(u,{mb:4,px:4,py:3,borderWidth:1,borderRadius:"md",bg:"gray.50",children:t.jsxs(L,{children:[t.jsxs(r,{textAlign:"center",children:[t.jsxs(i,{children:[c," Total Income"]}),t.jsxs(a,{color:"teal.600",children:["$",$.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs(r,{textAlign:"center",children:[t.jsxs(i,{children:[c," Total Expenses"]}),t.jsxs(a,{color:"teal.600",children:["$",k.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs(r,{textAlign:"center",children:[t.jsxs(i,{children:[c," Total Savings"]}),t.jsxs(a,{color:"teal.600",children:["$",z.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]})}export{ht as default};
