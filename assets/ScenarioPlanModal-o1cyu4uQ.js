import{u as t,k as C,j as s,M as O,l as A,p as N,q as P,r as k,v as B,B as m,C as b,D as J}from"./index-xwMjE7XY.js";import{r as T}from"./recharts-fUgtte1b.js";import{M as E}from"./modal-close-button-V6F9r3JT.js";import{S as I}from"./select-CEgIQikT.js";import"./use-form-control-B6IaQYr4.js";import"./split-CzYrjwZo.js";function R({isOpen:S,onClose:o}){const a=t(e=>e.scenarios),x=t(e=>e.saveMonthlyPlan),l=t(e=>e.selectedMonth),v=t(e=>e.monthlyActuals)[l],[n,h]=T.useState(Object.keys(a)[0]||""),r=C(),p=()=>{const e=a[n];if(!e)return;const i=b(e.incomeSources),M=J(i),c=(i-M.total)/12,d=e.savingsMode==="10"?.1:e.savingsMode==="20"?.2:e.savingsMode==="custom"?(e.customSavings||0)/100:0,g=+(c*d).toFixed(2),u=e.expenses?.reduce((f,y)=>f+(y.amount||0),0)||0,j=c-u;x(l,{scenarioName:n,incomeSources:JSON.parse(JSON.stringify(e.incomeSources)),expenses:JSON.parse(JSON.stringify(e.expenses)),savingsMode:e.savingsMode,customSavings:e.customSavings,netIncome:c,savingsPercent:d,totalSavings:g,totalExpenses:u,estLeftover:j}),r(v?{title:"Plan Saved",description:"Actuals already exist and were not changed.",status:"info",duration:3e3,isClosable:!0}:{title:"Plan & Actuals Saved",status:"success",duration:3e3,isClosable:!0}),o()};return s.jsxs(O,{isOpen:S,onClose:o,isCentered:!0,size:"md",children:[s.jsx(A,{}),s.jsxs(N,{children:[s.jsx(P,{children:"Select a Scenario"}),s.jsx(E,{}),s.jsx(k,{children:s.jsx(I,{value:n,onChange:e=>h(e.target.value),children:Object.keys(a).map(e=>s.jsx("option",{value:e,children:e},e))})}),s.jsxs(B,{children:[s.jsx(m,{onClick:p,colorScheme:"teal",mr:3,children:"Use Scenario"}),s.jsx(m,{onClick:o,children:"Cancel"})]})]})]})}export{R as default};
